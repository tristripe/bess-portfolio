{"version":3,"file":"component---src-pages-index-js-85de16e45146d368de0a.js","mappings":"yJAAIA,E,UAkBJ,MAjBA,WACE,QAA8BC,IAA1BD,EACF,OAAOA,EAET,IAAIE,GAAU,EACVC,EAAU,CAERD,cACFA,GAAU,CACZ,GAEEE,EAAO,WAAiB,EAI5B,OAHAC,OAAOC,iBAAiB,IAAKF,EAAMD,GACnCE,OAAOE,oBAAoB,IAAKH,EAAMD,GACtCH,EAAwBE,EACjBA,CACT,ECfA,EADY,EAAAM,gBCGRC,EAAa,aACbC,EAAS,CAFG,YAESD,GAQrBE,EAAkBC,SACtB,SAASC,EAAkBC,EAAKC,EAASC,GACvC,IACEC,QADmB,IAAVD,EAAmB,CAAC,EAAIA,GACZJ,SACrBA,OAA6B,IAAlBK,EAA2BN,EAAkBM,EACtDC,EChBU,SAAmBC,GACjC,IAAIL,EAAM,SAAaK,GAIvB,OAHA,GAA0B,WACxBL,EAAIM,QAAUD,CAChB,IACOL,CACT,CDUmBO,CAAUN,IAC3B,IAAAO,YAAU,WACR,GAAKP,EAAL,CAGA,IAAIQ,EAAW,SAAkBC,GAC1BV,EAAIM,SAAYF,EAAWE,UAAWN,EAAIM,QAAQK,SAASD,EAAME,SAGtER,EAAWE,QAAQI,EACrB,EAIA,OAHAd,EAAOiB,SAAQ,SAAUH,GACvBZ,EAASN,iBAAiBkB,EAAOD,EAxBnB,SAAuBC,GACzC,GAAIA,IAAUf,GAAc,IAC1B,MAAO,CACLP,SAAS,EAGf,CAkBiD0B,CAAcJ,GAC3D,IACO,WACLd,EAAOiB,SAAQ,SAAUH,GACvBZ,EAASL,oBAAoBiB,EAAOD,EACtC,GACF,CAdA,CAeF,GAAG,EAAER,GACP,CEnCA,IAkBA,EAlBiB,SAAH,GAAsC,IAAhCc,EAAG,EAAHA,IAAKC,EAAU,EAAVA,WACjBhB,GADoC,EAAPC,SACvBgB,EAAAA,EAAAA,WAGZ,OAFAlB,EAAkBC,GAAK,kBAAMgB,GAAY,IAGvC,uBAAKE,UAAU,YACb,uBAAKA,UAAU,qBACb,uBAAKA,UAAU,0BAA0BlB,IAAKA,GAC5C,0BAAQmB,QAASH,EAAYE,UAAU,mBAAiB,KAGxD,uBAAKH,IAAKA,EAAKK,IAAI,kBAK7B,C,0IC6CA,EA5DgB,SAAH,GAAkB,IAAZC,EAAI,EAAJA,KACXC,GAAQC,EAAAA,EAAAA,YAAWC,EAAAA,IACzB,GAA8BC,EAAAA,EAAAA,WAAS,GAAhCC,EAAO,KAAEC,EAAU,KAC1B,GAAgCF,EAAAA,EAAAA,UAAS,IAAlCG,EAAQ,KAAEC,EAAW,KAQtBC,EAAgB,WACpBH,GAAW,GACX7B,SAASL,oBAAoB,UAAWsC,EAC1C,EAEMA,EAAiB,SAACC,GACR,WAAVA,EAAEC,KACJH,GAEJ,EAEAI,QAAQC,IAAIb,GAEZ,IAAMc,EAAa,SAACC,EAAMC,GACxB,OACE,uBAAKpB,UAAU,OAAOe,IAAKK,EAAKnB,QAAS,kBArBvBJ,EAqB0CsB,EAAKE,gBAAgBC,MAAMzB,IApBzFc,EAAYd,GACZY,GAAW,QACX7B,SAASN,iBAAiB,UAAWuC,GAHlB,IAAChB,CAqByE,GACzF,uBAAKA,IAAKsB,EAAKE,gBAAgBC,MAAMzB,IAAKK,IAAKiB,EAAKI,KAAMR,IAAKK,IAGrE,EAoBA,OACE,gCACE,uBAAKpB,UAAU,UAAUwB,UAAW,kBAAMX,CAAc,GArBtC,SAACT,GACrB,OAAQA,GACN,KAAKqB,EAAAA,GAAAA,cACH,OAAOtB,EAAKuB,cAAcC,MAAMC,KAAI,gBAAGT,EAAI,EAAJA,KAAMC,EAAG,EAAHA,IAAG,OAAOF,EAAWC,EAAMC,EAAI,IAC9E,KAAKK,EAAAA,GAAAA,SACH,OAAOtB,EAAK0B,SAASF,MAAMC,KAAI,gBAAGT,EAAI,EAAJA,KAAMC,EAAG,EAAHA,IAAG,OAAOF,EAAWC,EAAMC,EAAI,IACzE,KAAKK,EAAAA,GAAAA,UACH,OAAOtB,EAAK2B,UAAUH,MAAMC,KAAI,gBAAGT,EAAI,EAAJA,KAAMC,EAAG,EAAHA,IAAG,OAAOF,EAAWC,EAAMC,EAAI,IAC1E,KAAKK,EAAAA,GAAAA,MACH,OAAOtB,EAAK4B,MAAMJ,MAAMC,KAAI,gBAAGT,EAAI,EAAJA,KAAMC,EAAG,EAAHA,IAAG,OAAOF,EAAWC,EAAMC,EAAI,IACtE,KAAKK,EAAAA,GAAAA,SACH,OAAOtB,EAAK6B,SAASL,MAAMC,KAAI,gBAAGT,EAAI,EAAJA,KAAMC,EAAG,EAAHA,IAAG,OAAOF,EAAWC,EAAMC,EAAI,IACzE,KAAKK,EAAAA,GAAAA,MACH,OAAOtB,EAAK8B,MAAMN,MAAMC,KAAI,gBAAGT,EAAI,EAAJA,KAAMC,EAAG,EAAHA,IAAG,OAAOF,EAAWC,EAAMC,EAAI,IACtE,QACE,OAAO,iCAEb,CAKOc,CAAc9B,EAAM+B,SAEtB3B,GAAW,gBAAC,IAAQ,CAACX,IAAKa,EAAUZ,WAAYc,IAGvD,E,UCiCA,EA1FkB,WAChB,IAAMT,GAAOiC,EAAAA,EAAAA,IAAe,cAiF5B,OACE,gCACE,gBAAC,IAAO,MACR,gBAAC,EAAO,CAACjC,KAAMA,IAGrB,EAIakC,EAAO,WAAH,OAAS,uCAAuB,C","sources":["webpack://bess-portfolio/./node_modules/are-passive-events-supported/dist/are-passive-events-supported.esm.browser.js","webpack://bess-portfolio/./node_modules/use-isomorphic-layout-effect/dist/use-isomorphic-layout-effect.browser.esm.js","webpack://bess-portfolio/./node_modules/use-onclickoutside/dist/use-onclickoutside.browser.esm.js","webpack://bess-portfolio/./node_modules/use-latest/dist/use-latest.esm.js","webpack://bess-portfolio/./src/components/lightbox.jsx","webpack://bess-portfolio/./src/components/gallery.jsx","webpack://bess-portfolio/./src/pages/index.js"],"sourcesContent":["var supportsPassiveEvents;\nfunction arePassiveEventsSupported() {\n  if (supportsPassiveEvents !== undefined) {\n    return supportsPassiveEvents;\n  }\n  var passive = false;\n  var options = {\n    // @ts-ignore: this is a temporary object, it doesn't have to return anything\n    get passive() {\n      passive = true;\n    }\n  };\n  var noop = function noop() {};\n  window.addEventListener('t', noop, options);\n  window.removeEventListener('t', noop, options);\n  supportsPassiveEvents = passive;\n  return passive;\n}\nexport default arePassiveEventsSupported;","import { useLayoutEffect } from 'react';\nvar index = useLayoutEffect;\nexport default index;","import { useEffect } from 'react';\nimport arePassiveEventsSupported from 'are-passive-events-supported';\nimport useLatest from 'use-latest';\nvar MOUSEDOWN = 'mousedown';\nvar TOUCHSTART = 'touchstart';\nvar events = [MOUSEDOWN, TOUCHSTART];\nvar getAddOptions = function getAddOptions(event) {\n  if (event === TOUCHSTART && arePassiveEventsSupported()) {\n    return {\n      passive: true\n    };\n  }\n};\nvar currentDocument = document;\nfunction useOnClickOutside(ref, handler, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    _ref$document = _ref.document,\n    document = _ref$document === void 0 ? currentDocument : _ref$document;\n  var handlerRef = useLatest(handler);\n  useEffect(function () {\n    if (!handler) {\n      return;\n    }\n    var listener = function listener(event) {\n      if (!ref.current || !handlerRef.current || ref.current.contains(event.target)) {\n        return;\n      }\n      handlerRef.current(event);\n    };\n    events.forEach(function (event) {\n      document.addEventListener(event, listener, getAddOptions(event));\n    });\n    return function () {\n      events.forEach(function (event) {\n        document.removeEventListener(event, listener);\n      });\n    };\n  }, [!handler]);\n}\nexport { useOnClickOutside as default };","import * as React from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nvar useLatest = function useLatest(value) {\n  var ref = React.useRef(value);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = value;\n  });\n  return ref;\n};\nexport { useLatest as default };","import React, { useRef } from \"react\";\nimport useOnClickOutside from \"use-onclickoutside\";\n\nconst LightBox = ({ src, closeModal, handler }) => {\n  const ref = useRef();\n  useOnClickOutside(ref, () => closeModal());\n\n  return (\n    <div className=\"lightbox\">\n      <div className=\"lightbox__wrapper\">\n        <div className=\"lightbox__image-wrapper\" ref={ref}>\n          <button onClick={closeModal} className=\"lightbox__close\">\n            &times;\n          </button>\n          <img src={src} alt=\"Изображение\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LightBox;\n","import React, { useContext, useState } from \"react\";\nimport { folders, GlobalStateContext } from \"../context/GlobalContextProvider\";\nimport LightBox from \"./lightbox\";\n\nconst Gallery = ({ data }) => {\n  const state = useContext(GlobalStateContext);\n  const [toggler, setToggler] = useState(false);\n  const [imageSrc, setImageSrc] = useState(\"\");\n\n  const openLightBox = (src) => {\n    setImageSrc(src);\n    setToggler(true);\n    document.addEventListener(\"keydown\", keyDownHandler);\n  };\n\n  const closeLightBox = () => {\n    setToggler(false);\n    document.removeEventListener(\"keydown\", keyDownHandler);\n  };\n\n  const keyDownHandler = (e) => {\n    if (e.key === \"Escape\") {\n      closeLightBox();\n    }\n  };\n\n  console.log(state);\n\n  const renderItem = (node, idx) => {\n    return (\n      <div className=\"item\" key={idx} onClick={() => openLightBox(node.childImageSharp.fluid.src)}>\n        <img src={node.childImageSharp.fluid.src} alt={node.base} key={idx} />\n      </div>\n    );\n  };\n  const renderGallery = (state) => {\n    switch (state) {\n      case folders.ILLUSTRATIONS:\n        return data.illustrations.edges.map(({ node, idx }) => renderItem(node, idx));\n      case folders.SKETCHES:\n        return data.sketches.edges.map(({ node, idx }) => renderItem(node, idx));\n      case folders.CREATURES:\n        return data.creatures.edges.map(({ node, idx }) => renderItem(node, idx));\n      case folders.MIXED:\n        return data.mixed.edges.map(({ node, idx }) => renderItem(node, idx));\n      case folders.INKTOBER:\n        return data.inktober.edges.map(({ node, idx }) => renderItem(node, idx));\n      case folders.CARDS:\n        return data.cards.edges.map(({ node, idx }) => renderItem(node, idx));\n      default:\n        return <></>;\n    }\n  };\n\n  return (\n    <>\n      <div className=\"masonry\" onKeyDown={() => keyDownHandler}>\n        {renderGallery(state.folder)}\n      </div>\n      {toggler && <LightBox src={imageSrc} closeModal={closeLightBox} />}\n    </>\n  );\n};\n\nexport default Gallery;\n","import React from \"react\";\nimport { useStaticQuery, graphql } from \"gatsby\";\nimport Gallery from \"../components/gallery\";\nimport Sidebar from \"../components/sidebar\";\n\nconst IndexPage = () => {\n  const data = useStaticQuery(\n    graphql`\n      query MyQuery {\n        illustrations: allFile(\n          filter: { publicURL: { regex: \"/(jpg|png)/\" }, relativeDirectory: { eq: \"illustrations\" } }\n        ) {\n          edges {\n            node {\n              base\n              childImageSharp {\n                fluid(maxWidth: 1400) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        sketches: allFile(filter: { publicURL: { regex: \"/(jpg|png)/\" }, relativeDirectory: { eq: \"sketches\" } }) {\n          edges {\n            node {\n              base\n              childImageSharp {\n                fluid(maxWidth: 1400) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        creatures: allFile(filter: { publicURL: { regex: \"/(jpg|png)/\" }, relativeDirectory: { eq: \"creatures\" } }) {\n          edges {\n            node {\n              base\n              childImageSharp {\n                fluid(maxWidth: 1400) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        mixed: allFile(filter: { publicURL: { regex: \"/(jpg|png)/\" }, relativeDirectory: { eq: \"mixed\" } }) {\n          edges {\n            node {\n              base\n              childImageSharp {\n                fluid(maxWidth: 1400) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        inktober: allFile(filter: { publicURL: { regex: \"/(jpg|png)/\" }, relativeDirectory: { eq: \"inktober\" } }) {\n          edges {\n            node {\n              base\n              childImageSharp {\n                fluid(maxWidth: 1400) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        cards: allFile(filter: { publicURL: { regex: \"/(jpg|png)/\" }, relativeDirectory: { eq: \"cards\" } }) {\n          edges {\n            node {\n              base\n              childImageSharp {\n                fluid(maxWidth: 1400) {\n                  src\n                }\n              }\n            }\n          }\n        }\n      }\n    `,\n  );\n\n  return (\n    <>\n      <Sidebar />\n      <Gallery data={data} />\n    </>\n  );\n};\n\nexport default IndexPage;\n\nexport const Head = () => <title>Галерея</title>;\n"],"names":["supportsPassiveEvents","undefined","passive","options","noop","window","addEventListener","removeEventListener","useLayoutEffect","TOUCHSTART","events","currentDocument","document","useOnClickOutside","ref","handler","_temp","_ref$document","handlerRef","value","current","useLatest","useEffect","listener","event","contains","target","forEach","getAddOptions","src","closeModal","useRef","className","onClick","alt","data","state","useContext","GlobalStateContext","useState","toggler","setToggler","imageSrc","setImageSrc","closeLightBox","keyDownHandler","e","key","console","log","renderItem","node","idx","childImageSharp","fluid","base","onKeyDown","folders","illustrations","edges","map","sketches","creatures","mixed","inktober","cards","renderGallery","folder","useStaticQuery","Head"],"sourceRoot":""}